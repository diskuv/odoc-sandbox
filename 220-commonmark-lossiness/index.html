<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>220-commonmark-lossiness</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" type='text/css' media='screen' href="../res/index/wing.min.css" />
    <link rel="stylesheet" type='text/css' media='screen' href="../res/index/style.css" />
</head>

<body>
    <div class="content">
        <div class="nav">
            <h5 class="nav-logo">odoc sandbox</h5>
            <a class="nav-item" href="../index.html">Index of Experiments</a>
        </div>
        <div class="cards">
            <div class="card">
                <h5 class="card-header">Design</h5>
                <div class="card-body">
                    <p>We'll convert odoc HTML into <a href="https://commonmark.org/">CommonMark
                            Markdown</a>
                        (commonmark), and then from commonmark Markdown back to HTML.</p>

                    <p>Basically: <code>Odoc.html mli |> Pandoc.commonmark |> Pandoc.html</code></p>

                    <p>Typically we may just stop at Markdown since Markdown (together with YAML frontmatter)
                        is the conventional content format for static site generators.
                        <a href="https://commonmark.org/">CommonMark</a> is a common Markdown
                        format (no pun intended), and almost all Markdown tools can process CommonMark.
                    </p>
                    <p>Converting again to HTML lets us visually inspect <strong>how much information has
                            disappeared</strong>
                        in the conversion to Markdown <strong>using pandoc</strong>.</p>
                </div>
                <div class="card-footer center text-center">
                    <p>With native odoc support for Markdown (see <a
                            href="https://github.com/ocaml/odoc/issues/709">PR#709</a>)
                        there should be no lossiness.</p>
                </div>
            </div>
            <div class="card">
                <h5 class="card-header">Results</h5>
                <dl class="card-body">
                    <dt><a href="html/Markup.html">markup.mli</a></dt>
                    <dd>test the Experiment Design rendering of comment markup in a .mli file. Compare to the <a
                            href="../100-plain/html/Markup.html">original (100-plain) rendering</a></dd>
                </dl>
            </div>
            <div class="card">
                <h5 class="card-header">Conclusion</h5>
                <div class="card-body">
                    <p>Using pandoc to produce CommonMark Markdown results in some loss of information.
                        Use GitHub Flavored Markdown as an intermediate file format instead because it loses less
                        information!
                    </p>
                    <p>CommonMark Markdown has all the same issues as GitHub Flavored Markdown, and it adds its
                        own issues.
                        See <a href="../200-gfm-lossiness/index.html">Experiment 200-gfm-lossiness</a> for
                        issues shared by both GitHub Flavored Markdown and CommonMark Markdown.

                        CommonMark Markdown also:

                    <ol>
                        <li>Loses the section anchors. Among other things, that makes the built-in table of contents
                            useless
                        </li>
                    </ol>
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>

</html>