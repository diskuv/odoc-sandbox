<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>210-restructuredtext-lossiness</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" type='text/css' media='screen' href="../res/index/wing.min.css" />
    <link rel="stylesheet" type='text/css' media='screen' href="../res/index/style.css" />
</head>

<body>
    <div class="content">
        <div class="nav">
            <h5 class="nav-logo">odoc sandbox</h5>
            <a class="nav-item" href="../index.html">Index of Experiments</a>
        </div>
        <div class="cards">
            <div class="card">
                <h5 class="card-header">Design</h5>
                <div class="card-body">
                    <p>We'll convert odoc HTML into <a
                            href="https://docutils.sourceforge.io/docs/user/rst/quickstart.html">reStructuredText</a>
                        (rST), and then from rST back to HTML.</p>

                    <p>Basically: <code>Odoc.html mli |> Pandoc.rst |> Pandoc.html</code></p>

                    <p>Typically we may just stop at reStructuredText since reStructuredText
                        is the content format used by the (hugely) popular
                        <a href="https://www.sphinx-doc.org/en/master/">Sphinx</a> documentation tool.
                        reStructuredText is also the typical content format for
                        <a href="https://readthedocs.org/">Read the Docs</a> which is in use
                        by 80,000 open source projects.
                    </p>

                    <p>Converting again to HTML lets us visually inspect <strong>how much information has
                            disappeared</strong>
                        in the conversion to reStructuredText <strong>using pandoc</strong>.</p>
                </div>
                <div class="card-footer center text-center">
                    <p>With native odoc support for reStructuredText (see <a
                            href="https://github.com/ocaml/odoc/issues/890">Issue #890</a>)
                        there should be no lossiness.</p>
                </div>
            </div>
            <div class="card">
                <h5 class="card-header">Results</h5>
                <dl class="card-body">
                    <dt><a href="html/Markup.html">markup.mli</a></dt>
                    <dd>test the Experiment Design rendering of comment markup in a .mli file. Compare to the <a
                            href="../100-plain/html/Markup.html">original (100-plain) rendering</a></dd>
                </dl>
            </div>
            <div class="card">
                <h5 class="card-header">Conclusion</h5>
                <div class="card-body">
                    <p>Using pandoc to produce reStructuredText results in <strong>poor rendering</strong>. </p>
                    <ol>
                        <li>The header level structure (ex. <code>{1 Section}</code> vs <code>{2 Subsection}</code>) is
                            lost</li>
                        <li>The implicit and explicit anchors for each title (ex. <code>{2 Subsection}</code>
                            appears in the reStructuredText results. They should be invisible.</li>
                        <li>Several types of links do not render as links</li>
                        <li>Raw HTML is lost completely</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</body>

</html>